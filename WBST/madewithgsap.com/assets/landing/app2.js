!function(){"use strict";const e=new Lenis({autoRaf:!0}),t={animEnCours:!1,browser:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?"safari":/Chrome/.test(navigator.userAgent)&&!/Chromium|Edge/.test(navigator.userAgent)&&"chrome"},o=()=>{const e=window.innerWidth,t=Math.max(e-document.documentElement.clientWidth,0);if(document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),document.querySelector(".homepage")){const e=document.querySelector(".l-motion .word").clientHeight;document.documentElement.style.setProperty("--video-margin",.543*document.querySelector(".rule3").clientWidth-23-.65*e+"px")}},r=e=>{document.body.classList.add("on-screen-on"),document.querySelector(".on-screen .index").textContent=e,gsap.fromTo(".on-screen",{scale:.97,autoAlpha:0},{scale:1,autoAlpha:1,ease:"back.out(20)",duration:.16})},n=e=>{document.querySelector(".message").querySelector("p").textContent=e,i.restart(),i.play()},s=()=>{document.body.classList.remove("on-screen-on"),gsap.to(".on-screen",{scale:.97,autoAlpha:0,ease:"expo.in",duration:.16})},a=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@\[\]\^`´¨¸\~_!"#\$%&'\(\)\*\+,\-\./:;{}<>=\|~?\\\±°§\s«»¶€¢£¥•©®™])[A-Za-z\dàáâãäçèéêëìíîïñòóôõöùúûüýÿÀÁÂÃÄÇÈÉÊËÌÍÎÏÑÒÓÔÕÖÙÚÛÜÝ@\[\]\^`´¨¸\~_!"#\$%&'\(\)\*\+,\-\./:;{}<>=\|~?\\\±°§\s«»¶€¢£¥•©®™]{8,}$/,c=document.querySelector(".message"),i=gsap.timeline({paused:!0,onStart:()=>{c.classList.add("on")},onComplete:()=>{document.querySelector(".message").classList.remove("on")}});i.fromTo(".message",{yPercent:100,y:25},{yPercent:0,y:0,duration:.2,ease:"back.out(1.3)"}),i.to(".message",{yPercent:100,y:25,duration:.2,ease:"back.in(1.3)"},"+=4");const l=gsap.timeline({paused:!0,onComplete:()=>{document.body.classList.remove("thankyou")}});l.from(".l-thankyou .fond",{autoAlpha:0,duration:.3},"st0"),l.from(".l-thankyou .plus",{scale:0,rotation:90,duration:e=>1.5-.4*e,stagger:.2,ease:"expo.inOut",delay:.1},"st0"),l.from(".l-thankyou .container",{autoAlpha:0,duration:.5,delay:1,ease:"expo.inOut"},"st0"),l.to(".l-thankyou .container",{autoAlpha:0,duration:.5,ease:"expo.inOut"},"st1"),l.to(".l-thankyou .plus",{scale:2.1,rotation:-90,duration:e=>1.5-.4*e,stagger:.2,ease:"expo.inOut"},"st1"),l.to(".l-thankyou .fond",{autoAlpha:0,duration:.3,delay:.7},"st1");const d=gsap.timeline({paused:!0});d.to(".intro",{duration:.3,delay:.2,autoAlpha:0,ease:"power2.inOut"}),gsap.registerPlugin(ScrollTrigger),ScrollTrigger.clearScrollMemory("manual");history.scrollRestoration&&(history.scrollRestoration="manual");const u=new class{leave(e){this.incrStep=0,t.animEnCours=!0,this.changementDOM(e),this.animationSortie(),document.body.classList.add("transi")}animationSortie(){d.reverse(),gsap.delayedCall(.3,(()=>{e.stop()})),gsap.delayedCall(.5,(()=>{var e;document.querySelector("html").classList.remove("blocked","preventPrev"),e="main",e=gsap.utils.toArray(e)[0],gsap.globalTimeline.getChildren(!0,!0,!1).forEach((t=>t.targets().forEach((o=>o.nodeType&&e.contains(o)&&t.kill(o))))),this.mm&&this.mm.revert(),ScrollTrigger.getAll().forEach((e=>{e.kill()})),this.incrementStep()}))}changementDOM(e){this.ajaxPromise(e).then((e=>{let t=(new DOMParser).parseFromString(e,"text/html");this.newTitle=t.querySelector("title").innerHTML,this.newClass=t.body.getAttribute("class"),this.newDOM=t.querySelector("main").innerHTML,this.newHeader=t.querySelector("header"),this.cssEffect=t.querySelector("head link.effect-file")?.getAttribute("href"),this.jsEffect=t.querySelector("script.effect-file")?.getAttribute("src"),this.incrementStep()}))}enter(){if(d.play(),t.animEnCours){if(this.incrStep=0,document.title=this.newTitle,document.body.setAttribute("class",this.newClass),document.querySelector("main").innerHTML=this.newDOM,"effect"===this.newClass&&void 0!==this.cssEffect){if(!document.querySelector(`link[href="${this.cssEffect}"]`)){const e=document.createElement("link");e.rel="stylesheet",e.href=this.cssEffect,document.head.appendChild(e)}const e=document.querySelector(`script[src="${this.jsEffect}"]`);e&&document.body.removeChild(e);const t=document.createElement("script");t.src=this.jsEffect,document.body.appendChild(t)}null!==this.newHeader.querySelector(".sign-in")!=(null!==document.querySelector("header .sign-in"))&&(gsap.to("header",{yPercent:-50,duration:.3,autoAlpha:0,ease:"expo.in",onComplete:()=>{document.querySelector("header").innerHTML=this.newHeader.innerHTML,this.buttons()}}),gsap.fromTo("header",{yPercent:50},{yPercent:0,duration:.3,autoAlpha:1,immediateRender:!1,delay:.3,ease:"expo.out"})),t.animEnCours=!1,this.initPerPage()}else this.initPerPage()}incrementStep(){this.incrStep++,2===this.incrStep&&this.enter()}ajaxPromise(e){return new Promise((t=>{const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>t(o.responseText),o.send()}))}initPerPage(){if(t.browser&&document.body.classList.add(t.browser),document.querySelector(".mwg_effect012")||document.querySelector(".mwg_effect013")||document.querySelector(".mwg_effect014")||document.querySelector(".mwg_effect019")||document.querySelector(".mwg_effect023")||document.querySelector(".mwg_effect026")||document.querySelector(".mwg_effect034")||document.querySelector(".mwg_effect045")||document.querySelector(".mwg_effect050")?document.querySelector("html").classList.add("blocked"):e.isStopped&&e.start(),(document.querySelector(".mwg_effect026")||document.querySelector(".mwg_effect008")&&window.innerWidth<768||document.querySelector(".mwg_effect028")&&window.innerWidth<768)&&document.querySelector("html").classList.add("preventPrev"),document.querySelector(".homepage")){o(),gsap.to(".logo_bl .l",{y:-92,delay:.32,ease:"expo.inOut",duration:1,stagger:{each:.07,from:"random"}}),this.mm=gsap.matchMedia(),this.mm.add("(min-width: 769px)",(()=>{gsap.to(".l-frame",{scale:()=>document.querySelector(".rule3").clientWidth/document.querySelector(".rule12").clientWidth,y:()=>.5*window.innerHeight+28+.543*document.querySelector(".rule3").clientWidth,immediateRender:!1,ease:"none",scrollTrigger:{trigger:".l-frame",start:"bottom bottom-=25",end:"bottom top",scrub:!0,invalidateOnRefresh:!0}})})),document.querySelectorAll(".p-med .word").forEach((e=>{gsap.to(e.querySelector("span"),{y:0,ease:"power4.out",duration:.5,scrollTrigger:{trigger:e,toggleActions:"play play reverse reverse",start:"top 75%",end:"+=1"}})}));const e=document.querySelectorAll(".mwg_landing1 .letter span"),t=(e=>{for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e})(Array.from(e)),n=document.querySelector(".mwg_landing1").clientHeight+100;for(let o=0;o<e.length;o++)gsap.to(t[o],{y:0,ease:"expo.inOut",duration:.8,scrollTrigger:{trigger:".mwg_landing1",start:"top 95%-="+n/e.length*o,end:"+=1",toggleActions:"play none reverse none"}});this.mm.add("(min-width: 769px)",(()=>{const e=document.querySelector(".mwg_landing2"),t=e.querySelector(".pin"),o=e.querySelectorAll(".card");ScrollTrigger.create({trigger:t,start:"top top",end:"bottom bottom",pin:!0,pinSpacing:!1,scrub:!0}),gsap.set(o,{yPercent:50,y:.5*window.innerHeight+1});const r=gsap.timeline({paused:!0,scrollTrigger:{trigger:e,start:"top top",end:"bottom bottom",scrub:!0}});r.to(o,{yPercent:-50,y:-.5*window.innerHeight,duration:1,stagger:-.12,ease:CustomEase.create("custom","M0,0 C0,0 0.098,0.613 0.5,0.5 0.899,0.386 1,1 1,1")},"sameStep"),r.to(o,{rotation:()=>20*(Math.random()-.5),stagger:-.12,duration:.5,ease:"power3.out"},"sameStep"),r.to(o,{rotation:0,stagger:-.12,duration:.5,ease:"power3.in"},"sameStep+=0.5")})),gsap.to(".mwg_landing3 .letter",{yPercent:100,stagger:{each:.05,from:"random"},ease:"power1.inOut",scrollTrigger:{trigger:".mwg_landing3 ul",start:"33.33% bottom",end:"120% bottom",scrub:1}}),gsap.to(".interactive img",{scale:1.2,stagger:.25,ease:"none",scrollTrigger:{trigger:".interactive",start:"top bottom",end:"bottom top",scrub:!0}}),this.mm.add("(min-width: 769px)",(()=>{const e=document.querySelector(".mwg_landing4 .text");(e=>{const t=e.textContent;e.innerHTML=t.split("").map((e=>" "===e?"<span>&nbsp;</span>":`<span class="letter">${e}</span>`)).join(" ")})(e);const t=document.querySelectorAll(".mwg_landing4 .letter"),o=e.clientWidth-window.innerWidth,r=gsap.to(e,{x:-o+"px",ease:"none",scrollTrigger:{trigger:".mwg_landing4 .container",pin:!0,scrub:!0,end:"+="+o}});t.forEach((e=>{const t={y:(Math.floor(7*Math.random())+10)*(20*Math.round(Math.random())-10),rotation:(Math.floor(11*Math.random())+10)*(2*Math.round(Math.random())-1)};gsap.fromTo(e,{rotation:t.rotation,yPercent:t.y},{rotation:0,yPercent:0,ease:"elastic.out(1.2, 1)",scrollTrigger:{trigger:e,containerAnimation:r,start:"left 100%",end:"left 0%",scrub:.5}})}))})),this.mm.add("(max-width: 768px)",(()=>{ScrollTrigger.create({trigger:".l-details",endTrigger:".global-sent",pin:".l-sentence",pinSpacing:!1,start:"bottom bottom",end:"top bottom"})})),document.querySelectorAll(".l-circles").forEach((e=>{gsap.to(e.querySelectorAll("div"),{scaleY:1,stagger:{each:-.2,from:"center"},duration:.5,ease:"back.out(3)",scrollTrigger:{trigger:e,start:"top bottom",end:"bottom 50%",scrub:!0}})})),document.querySelectorAll(".sec-black").forEach((e=>{ScrollTrigger.create({trigger:e,start:"top 30px",onEnter:()=>{document.body.classList.add("menu-white")},onLeaveBack:()=>{document.body.classList.remove("menu-white")}})})),document.querySelectorAll(".sec-white").forEach((e=>{ScrollTrigger.create({trigger:e,start:"top 30px",onEnter:()=>{document.body.classList.remove("menu-white")},onLeaveBack:()=>{document.body.classList.add("menu-white")}})})),this.mm.add("(min-width: 769px)",(()=>{ScrollTrigger.create({trigger:".mwg_landing1",start:"top 95%",onEnter:()=>{r("046")},onLeaveBack:()=>{s()}}),ScrollTrigger.create({trigger:".mwg_landing2",start:"top top",endTrigger:".mwg_landing3",end:"top bottom",onEnter:()=>{r("018")},onEnterBack:()=>{r("018")},onLeaveBack:()=>{r("046")}}),ScrollTrigger.create({trigger:".mwg_landing3",start:"top bottom",end:"bottom bottom",onEnter:()=>{r("027")},onEnterBack:()=>{r("027")},onLeave:()=>{s()}}),ScrollTrigger.create({trigger:".l-details",start:"bottom 60%",onEnter:()=>{r("011")},onLeaveBack:()=>{s()}}),ScrollTrigger.create({trigger:".sentence1",start:"top bottom",endTrigger:"footer",end:"bottom 120%",onEnter:()=>{r("024")},onEnterBack:()=>{r("024")},onLeave:()=>{s()},onLeaveBack:()=>{r("011")}})}))}if(document.querySelector(".effects")&&window.matchMedia("(pointer: fine)").matches&&document.querySelectorAll(".e-list li").forEach((e=>{const t=e.querySelector("video");e.addEventListener("mouseenter",(e=>{t.play()})),e.addEventListener("mouseleave",(e=>{t.pause()}))})),(document.querySelector(".tutorial")||document.querySelector(".go-further"))&&(Prism.highlightAll(),document.querySelector(".t-sti1")&&(document.querySelectorAll(".anchor").forEach(((e,t)=>{ScrollTrigger.create({trigger:e,start:"top 30%",onEnter:()=>{document.querySelector(".t-sti1 a.on")?.classList.remove("on"),document.querySelectorAll(".t-sti1 a")[t].classList.add("on")},onLeaveBack:()=>{document.querySelector(".t-sti1 a.on")?.classList.remove("on"),document.querySelectorAll(".t-sti1 a")[t-1]?.classList.add("on")}})})),ScrollTrigger.refresh())),document.querySelector(".login")){"pass_set"===new URLSearchParams(window.location.search).get("mess")&&n("Your password has been saved! You can now log in to your account.");const e=document.querySelector(".log-form");if(e){const t=e.querySelector(".btn-join");e.addEventListener("submit",(o=>{o.preventDefault();const r=new FormData(e);t.disabled=!0,fetch("ajax/ajax_login.php",{method:"POST",body:r}).then((e=>e.json())).then((e=>{t.disabled=!1,e.message?n(e.message):e.redirect&&(this.leave(e.redirect),history.pushState({},"",e.redirect))})).catch((()=>{t.disabled=!1,n("Error")}))}))}}if(document.querySelector(".password-form")){const e=document.querySelector(".password-form"),t=e.querySelector(".btn-join"),o=document.getElementById("password"),r=document.getElementById("password2"),s=new URLSearchParams(window.location.search).get("token");e.addEventListener("submit",(c=>{c.preventDefault();const i=new FormData(e);o.value===r.value?a.test(o.value)?(document.querySelector(".complete")&&fetch(`ajax/ajax_complete.php?token=${s}`,{method:"POST",body:i}).then((e=>e.json())).then((e=>{t.disabled=!1,e.message?n(e.message):e.redirect&&(this.leave(e.redirect),history.pushState({},"",e.redirect))})).catch((()=>{console.error(error),t.disabled=!1,n("Error")})),document.querySelector(".reset-password")&&fetch(`ajax/ajax_reset_password.php?token=${s}`,{method:"POST",body:i}).then((e=>e.json())).then((o=>{t.disabled=!1,o.message?n(o.message):o.success&&(n(o.success),e.reset())})).catch((()=>{console.error(error),t.disabled=!1,n("Error")}))):n("Password is not secure enough."):n("Passwords do not match.")}))}if(document.querySelector(".forgot-password")){const e=document.querySelector(".forgot-form"),t=e.querySelector(".btn-join");e.addEventListener("submit",(o=>{o.preventDefault();const r=new FormData(e);t.disabled=!0,fetch("ajax/ajax_forgot_password.php",{method:"POST",body:r}).then((e=>e.json())).then((e=>{t.disabled=!1,e.message&&n(e.message)})).catch((()=>{t.disabled=!1,n("Error")}))}))}if(document.querySelector(".account")){const e=document.querySelector(".email-form"),t=e.querySelector("input").value;e.addEventListener("submit",(o=>{o.preventDefault();const r=new FormData(e),s=e.querySelector(".btn-join");t!==r.get("email")?(s.disabled=!0,fetch("ajax/ajax_account_email.php",{method:"POST",body:r}).then((e=>e.json())).then((e=>{s.disabled=!1,e.message&&n(e.message)})).catch((()=>{s.disabled=!1,n("Error")}))):n("The email address is the same as the current one.")}));const o=document.querySelector(".update-password-form"),r=document.getElementById("new-password"),s=document.getElementById("confirmed-password");o.addEventListener("submit",(e=>{e.preventDefault();const t=new FormData(o),c=o.querySelector(".btn-join");c.disabled=!0,r.value===s.value?a.test(r.value)?fetch("ajax/ajax_account_update_password.php",{method:"POST",body:t}).then((e=>e.json())).then((e=>{c.disabled=!1,e.message?n(e.message):e.success&&(n(e.success),o.reset())})).catch((()=>{c.disabled=!1,n("Error")})):n("Password is not secure enough."):n("Passwords do not match.")}))}if(document.querySelector("#form-submit")){const e=document.querySelector("#form-submit"),t=e.querySelector(".btn-join");e.addEventListener("submit",(o=>{o.preventDefault();const r=new FormData(e);t.disabled=!0,fetch("ajax/ajax_submit_website.php",{method:"POST",body:r}).then((e=>e.json())).then((e=>{t.disabled=!1,e.message&&n(e.message)})).catch((()=>{t.disabled=!1,n("Error")}))}))}if(document.querySelector(".faq")&&document.querySelectorAll(".f-right > div").forEach((e=>{e.style.height=e.querySelector("summary").clientHeight+"px"})),document.querySelector(".pricing")){gsap.matchMedia().add("(min-width: 901px)",(()=>{const e=document.querySelector(".g-testi .content"),t=e.querySelectorAll(".g-push2"),o=e.clientWidth/2,r=gsap.utils.wrap(-o,0);let n=0;const s=gsap.quickTo(e,"x",{duration:.5,ease:"power3",modifiers:{x:gsap.utils.unitize(r)}}),a=gsap.quickTo(t,"rotation",{duration:.5,ease:"power3"});ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",onEnter:()=>gsap.ticker.add(l),onEnterBack:()=>gsap.ticker.add(l),onLeave:()=>gsap.ticker.remove(l),onLeaveBack:()=>gsap.ticker.remove(l)});const c=Observer.create({target:e,type:"pointer,touch",onPress:()=>gsap.ticker.remove(l),onDrag:e=>{n+=e.deltaX,s(n);const t=window.innerWidth,o=e.deltaX/1.5/t*100;a(-o)},onRelease:()=>{gsap.ticker.add(l),a(0)},onStop:()=>{a(0)}}),i=document.querySelector(".g-testi");function l(e,t){n-=t/20,s(n)}new MutationObserver((e=>{e.some((e=>"childList"===e.type&&Array.from(e.removedNodes).includes(i)))&&(gsap.ticker.remove(l),c.kill())})).observe(document.body,{childList:!0,subtree:!0})})),gsap.to(".anim-testi > span",{yPercent:-102,delay:.3,ease:"expo.inOut",duration:1,stagger:{each:.034,from:"random"},scrollTrigger:{trigger:".inner-testi",start:"top 90%"}})}if(document.querySelector(".t404")){document.querySelector("html").classList.add("blocked");const e=gsap.quickTo(".rot1","rotation",{duration:.5,ease:"power4"}),t=gsap.quickTo(".rot2","rotation",{duration:1,ease:"power4"}),o=gsap.quickTo(".rot3","rotation",{duration:1.5,ease:"power4"}),r=gsap.quickTo(".rot4","rotation",{duration:2,ease:"power4"}),n=gsap.quickTo(".rot5","rotation",{duration:2.5,ease:"power4"}),s=gsap.quickTo(".rot6","rotation",{duration:3,ease:"power4"}),a=gsap.quickTo(".imgs","xPercent",{duration:3,ease:"power4"}),c=gsap.timeline({repeat:-1});c.to(".imgs svg",{xPercent:"+=1.6",stagger:.1,ease:"back.out(4)",duration:1,delay:1}),c.to(".imgs svg",{xPercent:"-=1.6",stagger:-.1,ease:"back.out(4)",duration:1,delay:1}),window.addEventListener("mousemove",(c=>{const i=20*(c.clientX/window.innerWidth-.5);e(i),t(i),o(i),r(i),n(i),s(i),a(i-.64)}))}if(document.querySelector(".global-sent")){const e=document.querySelector(".sentence1 p"),t=document.querySelector(".sentence2 p"),o=gsap.timeline({paused:!0});o.to(e,{x:-e.clientWidth/2,ease:"none",duration:10,repeat:-1},"st0"),o.fromTo(t,{x:-t.clientWidth/2},{x:0,ease:"none",duration:10,repeat:-1},"st0"),gsap.to([e,t],{yPercent:"-=100",ease:"power1.inOut",scrollTrigger:{trigger:".global-sent .container",start:"top 70%",end:"top 50%",scrub:1}}),ScrollTrigger.create({trigger:".global-sent",start:"top bottom",end:"bottom top",onEnter:()=>{o.play()},onEnterBack:()=>{o.play()},onLeave:()=>{o.pause()},onLeaveBack:()=>{o.pause()}})}const c=document.querySelector(".form-newsletter");if(c&&c.addEventListener("submit",(t=>{t.preventDefault(),document.body.classList.add("thankyou"),l.play(0),l.tweenTo("st1"),e.stop();const o=new FormData(c);fetch("ajax/ajax_mailerlite_newsletter.php",{method:"POST",body:o}).then((e=>e.json())).then((e=>{e.message?n(e.message):e.success})).catch((e=>{console.log("erreur",e),n("Error")}))})),document.querySelector(".plus-stroke2")&&!document.body.classList.contains("safari")){const e=gsap.timeline({delay:.5,repeat:-1,repeatDelay:5,defaults:{ease:"expo.inOut"}});e.to(".plus-stroke2 .p1",{strokeDashoffset:-934,duration:2},"<"),e.to(".plus-stroke2 .p2",{strokeDashoffset:-2008,duration:2,delay:.05},"<"),e.to(".plus-stroke2 .p3",{strokeDashoffset:300,duration:2,delay:.1},"<")}this.buttons(),document.querySelector(".anim-title1")&&gsap.to(".anim-title1 > span",{yPercent:-90,delay:.3,ease:"expo.inOut",duration:1,stagger:{each:.034,from:"random"}}),document.querySelector(".anim-title2:not(.anim-testi)")&&gsap.to(".anim-title2 > span",{yPercent:-102,delay:.3,ease:"expo.inOut",duration:1,stagger:{each:.034,from:"random"}}),document.querySelector("footer .logo_svg")&&gsap.delayedCall(1,(()=>{gsap.to("footer .logo_svg .l",{y:-92,ease:"expo.inOut",duration:1,stagger:{each:.034,from:"random"},scrollTrigger:{trigger:"footer .logo_svg",start:"bottom bottom"}})})),e.scrollTo(0,{immediate:!0,force:!0}),window.scrollTo(0,0),ScrollTrigger.refresh()}buttons(){window.matchMedia("(pointer: fine)").matches&&(document.querySelectorAll(".btn-join:not(.e-play)").forEach((e=>{e.classList.contains("event-on")||(e.addEventListener("mouseenter",(()=>{e.classList.add("play");(e.querySelector(".st4")||e.querySelector(".st3")||e.querySelector(".st2")||e.querySelector(".st1")).addEventListener("animationend",(()=>{e.classList.remove("play")}),{once:!0})})),e.classList.add("event-on"))})),document.querySelectorAll(".roll").forEach((e=>{if(!e.classList.contains("event-on")){let t;e.addEventListener("mouseenter",(e=>{const o=e.target;o.classList.remove("on"),o.offsetWidth,o.classList.add("on"),window.clearTimeout(t),t=setTimeout((()=>{o.classList.remove("on")}),400)})),e.classList.add("event-on")}})),document.querySelector(".to-menu.event-on")||(document.querySelector(".to-menu")?.addEventListener("mouseenter",(e=>{let t;const o=document.querySelector(".roll3");o.classList.remove("on"),o.offsetWidth,o.classList.add("on"),window.clearTimeout(t),t=setTimeout((()=>{o.classList.remove("on")}),400)})),document.querySelector(".to-menu")?.classList.add("event-on")))}};window.addEventListener("resize",o),window.addEventListener("DOMContentLoaded",(()=>{o(),document.fonts.ready.then((()=>{u.enter(),gsap.delayedCall(.5,(()=>{document.querySelector(".intro").classList.remove("intro-first")}))}))})),window.addEventListener("popstate",(e=>{u.leave(location.href)}),!1),window.addEventListener("click",(function(o){const r=o.target.closest("a");if(!r||r.href.includes("download")||r.closest(".t-sti1")||"_blank"===r.target||r.classList.contains("prevent"))if(r&&r.closest(".t-sti1")){o.preventDefault();const t=r.getAttribute("href");"#"===t?e.scrollTo(0):e.scrollTo(t,{offset:-70})}else if(o.target.closest(".to-menu"))document.body.classList.toggle("menu-open");else if(o.target.closest(".toggle-vis")){o.target.closest(".toggle-vis").classList.toggle("on");const e=o.target.closest(".toggle-vis").previousElementSibling;e.type="password"===e.type?"text":"password"}else if(o.target.closest(".btn-back-home"))document.body.classList.remove("mmj-on"),l.play(),document.querySelectorAll("form").forEach((e=>{e.reset()})),e.isStopped&&e.start();else if(o.target.closest(".t-tab:not(.on)")){document.querySelector(".t-tab.on").classList.remove("on"),o.target.closest(".t-tab").classList.add("on");const e=document.querySelector(".tab-content.on");document.querySelector(".tab-content:not(.on)").classList.add("on"),e.classList.remove("on")}else if(o.target.closest(".btns button:not(.on)")){const e=o.target.closest("button");document.querySelector(".btns button.on").classList.remove("on"),o.target.closest("button").classList.add("on");const t=Array.prototype.indexOf.call(e.parentNode.children,e);document.querySelector(".t-final .code-wrapper.on").classList.remove("on"),document.querySelectorAll(".t-final .code-wrapper")[t].classList.add("on")}else if(o.target.closest(".code-wrapper button")){const e=o.target.closest(".code-wrapper").querySelector("code");navigator.clipboard.writeText(e.textContent),n("Snippet copied to clipboard")}else if(o.target.closest("summary")){const e=o.target.closest("summary");e.parentNode.classList.toggle("actif"),e.parentNode.classList.contains("actif")?gsap.to(e.parentNode,{height:e.clientHeight+e.parentNode.querySelector("p").clientHeight+2+"px",ease:"power4.inOut",duration:.6}):gsap.to(e.parentNode,{height:e.clientHeight+"px",ease:"power4.inOut",duration:.6}),document.querySelectorAll(".faq summary").forEach((t=>{t!=e&&t.parentNode.classList.contains("actif")&&(t.parentNode.classList.remove("actif"),gsap.to(t.parentNode,{height:t.clientHeight+"px",ease:"power4.inOut",duration:.6}))})),gsap.delayedCall(.6,(()=>{ScrollTrigger.refresh()}))}else if(o.target.closest(".to-menu-mob"))document.body.classList.toggle("menu-mob-open");else if(o.target.closest(".close-menu-mob"))document.body.classList.remove("menu-mob-open");else if(o.target.closest(".e-play")){const e=document.querySelector("video.on");e&&(e.pause(),e.classList.remove("on"));const t=o.target.closest(".e-play").parentNode.querySelector("video");t.play(),t.classList.add("on")}else o.target.closest(".close-message")?i.seek(4.2):o.target.closest(".to-testi")&&e.scrollTo(".g-testi");else if(o.preventDefault(),!t.animEnCours){const e=r.getAttribute("href");u.leave(e),history.pushState({},"",e)}})),document.addEventListener("keydown",(o=>{if("Escape"===o.code)if(document.querySelector("body.thankyou"))document.body.classList.remove("mmj-on"),l.play(),document.querySelectorAll("form").forEach((e=>{e.reset()})),e.isStopped&&e.start();else if(document.querySelector("body.effect")&&!t.animEnCours){const e=document.querySelector(".links-bot a").getAttribute("href");u.leave(e),history.pushState({},"",e)}}))}();